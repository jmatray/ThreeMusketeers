# Architecture Specification

## DashboardComponent

    A component that renders various graphs and displays using data that the user has input into the app. This data refers to their spending habits, financial goals, and general user information. Renders a radial display showing the breakdown of how much the user spends in each category, a segment showing the progress the user has made towards achieving their goals via progress bars, and bar charts comparing the user&#39;s current spending habits to the suggested amounts they should be spending. This component will pull this user data from the DataHelper component, which will format the data from Firebase into arrays of objects based on where in the dashboard they belong, rather than one large nested object.

### Properties

- userSpending
  - Type: Object
  - Description: An object with keys of strings representing user&#39;s category of spending, and values of numbers representing the amount they spend on that category, provided by DataHandler.getUserSpending(), stored in state
- userGoals
  - Type: Object
  - Description: An object with keys of strings representing user&#39;s goals, and values of numbers representing how much they want to spend on that goal, provided by DataHandler.getUserGoals(), stored in state
- suggestedSpending
  - Type: Object
  - Description: An object with keys of strings representing the category of spending, and values of numbers representing the suggested amount they spend on that category, provided by DataHandler.getRecommended(), stored in state

### Functionalities

- displayDefault()
  - Parameters: none
  - Return: none
  - Renders web page title &quot;Dashboard&quot; at the top center of the screen, renders the hamburger menu in the top left corner of the screen
- calculateGoalsCompleted()
  - Parameters: none
  - Return: Object with keys of strings of the users set goals and values of booleans of whether or not that goal is completed
  - Uses userSpending and userGoals to compare if their spending to their goals
- displayGoalsProgressBars()
  - Parameters: none
  - Return: none
  - Uses objects userGoals, userSpending, and userGoalsCompleted and renders progress bars representing the user&#39;s goals and how far along users are towards achieving  their goals, if a goal is completed the bar will be green, if not then red
- displaySpendingChart()
  - Parameters: none
  - Return: none
  - Uses object userSpending and suggestedSpending and renders a chart of how much the user spends in each category, how much it is suggested the user spends, and how much the user has spent so far this month, as well as where that leaves them in relation to their budget
- displayPercentageOfIncomeChart()
  - Parameters: none
  - Return: none
  - Uses object userSpending and renders a radial display showing the breakdown of how much the user spends in each category
- displayCurrentSuggestedGraph()
  - Parameters: none
  - Return: none
  - Uses userSpending and suggestedSpending and renders a graph showing how much the user is currently spending versus how much it is suggested they spend.
- displayCategoryProgressBars()
  - Parameters: none
  - Return: none
  - Uses userSpending and suggestedSpending. Renders a display breaking down how much a user should be spending each month per category and how close or far away they are from that suggested spending.

### Connections

- Inputs
  - DataHandler - This component will receive multiple Objects from the DataHandler component containing information on:
    - Expenses
    - Goals
    - General user information
- Output
  - The component will only render displays, but will not return any information or pass any information to other components.

## DataHandler

### Description

    This component will handle all the data manipulation for the site. It will receive the data pulled that was pulled from firebase for the specific user from the GetUserData component. It will then manipulate that user data to be sent to other components in state that is usable for their desired purposes. DataHandler will also handle any form of computing, like determining a user&#39;s suggested budget.

### Properties

- userID
  - Type: string
  - Description: A string of text representing the user&#39;s unique id generated by firebase
- userData
  - Type: object
  - An object containing all currently stored data for the specific user. Will contain nested objects, for the users budget, expenses, and lifestyle. All keys will be strings representing category of info, and the values will consist of mostly numbers, with some boolean values for the user&#39;s lifestyle. Will be received as a return statement from GetUserData.getData() when given userID, and will be stored in the state
- name
  - Type: string
  - The user&#39;s name from user input, stored in the state
- email
  - Type: string
  - The user&#39;s email from user input, stored in the state

### Functionalities

- getUserId()
  - Parameters: none
  - Returns: string
  - Receives and stores user information like name and email to be stored in the state, as well as the user&#39;s unique id using firebase.auth().currentUser. Returns the user&#39;s id to be used by GetUserData
- getUserGoals()
  - Parameters: none
  - Returns: Object
  - Uses userData from the state, and creates a new object, without altering userData, with keys of strings representing the category of goal, and values of numbers representing the amount for that goal. Will get these keys and values from userData by filtering down to the nested object containing the goals set by the user previously. Returns this newly made object.
- getUserSpending()
  - Parameters: none
  - Returns: Object
  - Uses userData from the state, and creates a new object, without altering userData, with keys of strings representing the category of area of spending, and values of numbers representing the amount for that area of spending. Will get these keys and values from userData by filtering down to the nested object containing the spending habits set by the user previously. Returns this newly made object.
- getUserInfo()
  - Parameters: none
  - Returns Object
  - Uses userData from the state, and creates a new object, without altering userData, with keys of strings representing the category of user info, and values of numbers or booleans, representing information like monthly income and savings, as well as if they are a student or not. Will get these keys and values from userData by filtering down to the nested object containing the information given by the user previously. Returns this newly made object.
- calculateRecommended()
  - Parameters: none
  - Returns: Object
  - Calls getUserGoals(), getUserSpending(), and getUserInfo(), to recieve all available information on the user. Then will calculate a category that the user falls into, and will make a suggested budget based on suggestions from formidable budgeting sites like [everydollar](https://www.everydollar.com/blog/budget-percentages) for that specific category. The category will differ depending on the user&#39;s specific scenario like if they are a student, or work less than 40 hours a week. After deciding a category, the function will create a new object with keys of strings representing the category of spending, and values of numbers representing the suggested amount that they spend for that category, and returns that object.

### Connections

- Input
  - Calls to retrieve userData from GetUserData
- Output
  - Called by GetUserData to retrieve the userID for the current user
  - Called by DashboardComponent to retrieve userSpending, userGoals, and suggestedSpending

## AuthHandler

### Description

    This component will handle the signing up of a new user account, as well as the logging in and out of current users. It will look at the user inputted username and password, and either create a new account in firebase if signing up, or use firebase to authenticate if returning.

### Properties

- firstName
  - Type: string
  - Description: The users first name, stored in state from user input
- lastName
  - Type: string
  - Description: The users last name, stored in state from user input
- email
  - Type: string
  - Description: The users email, stored in state from user input

### Functionality

- createUser()
  - Parameters: none
  - Returns: none
  - Uses firebase.auth().createUserWithEmailAndPassword to create a new user with the given email and password to be stored in firebase along with firstName and lastName
- userLogin()
  - Parameters: none
  - Returns: none
  - Uses firebase.auth().signInWithEmailAndPassword to authenticate and login the user with the given email and password
- signOut()
  - Parameters: none
  - Returns: none
  - Signs the user out of their account using firebase.auth().signOut()

### Connectors

- Inputs
  - All inputs will be received from the user, with none coming from other components
- Outputs
  - No outputs will be sent to other components

## NotificationSettingsComponent

### Description

    This component collects the user&#39s preferences regarding notifications and sends them to the GetUserData component. Here, the user will enter information about how often they would like to receive notifications, both inside and outside the application, as well as how they would like to receive their external notifications. This information will be entered in via drop down and check box selections, and the data will be pushed to the GetUserData component upon clicking the &quot;save&quot; button.

### Properties

- PreferredMethod
  - Type: String
  - This value will indicate the way in which the user would like to receive their external notifications. The user can select from &quot;email&quot;, &quot;text&quot;, &quot;in-app&quot;, &quot;all of the above&quot; or &quot;no notifications&quot;. This value will be saved in state inside of the &quot;notificationSettings&quot; object as a key value pair.
- PhoneNumber
  - Type: String
  - This value is a phone number the user enters if they select &quot;text&quot; or &quot;all of the above&quot; for their notification method. This value will be entered into a text form that will appear upon the user making either of those two selections. This value will be saved in state inside of the &quot;notificationSettings&quot; object as a key value pair.
- DurationPeriod
  - Type: Integer
  - This value represents the number of days that the user wishes to go between receiving notifications to update their information. The user will be able to select between receiving notifications every week (7 days), every other week (14 days), or monthly (30 days) from a drop down selection. This value will be saved in state inside of the &quot;notificationSettings&quot; object as a key value pair.
- notificationSettings
  - Type: object
  - This object captures input information as key value pairs. The keys will always be string values, while the data types of the values will vary depending on what property they are holding. This object will be stored in state, and will be added to until the user pushes it to the GetUserData component via the &quot;save&quot; button.

### Functionalities

- handleText'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user input in text forms. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as a key value pair in the notificationSettings object (notificationSettings[name of form]) where it will be stored until pushed to the GetUserData Component. This will only be used on the optional text form for capturing user phone numbers should they opt to receive notifications via text.
- handleSelection'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user selected input from radio buttons or drop down menus. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as a key value pair in the notificationSettings object (notificationSettings[name of form]) where it will be stored until pushed to the GetUserData Component.
- sendToOther()
  - Parameters: none
  - Return: none
  - This function is activated via the onClick property of the &quot;save&quot; button at the bottom of the page. Once the button is clicked, the function will be called, preventing the default event and instead sending the notificationSettings object in state to the GetUserData component.

### Connections

- Inputs - none
- Outputs
  - GetUserData - sends the completed notificationSettings object to this component via the sendToOther() function

## BasicInfoComponent

### Description

    This component will be responsible for rendering the &quot;Basic User Info&quot; page along with capturing its user input and sending it to the GetUserData component.  Here, the user will enter information regarding their dependent status, how many dependents are in their household, the size of their household, their employment status, as well as their estimated monthly income and monthly savings. This information will be entered via text input forms, and data will be pushed to the GetUserData component all at once upon clicking the &quot;save&quot; button.

### Properties

- Income
  - Type: numeric value
  - This value represents the estimated monthly income for the user. It is given as a numeric amount in a dollar and cent format (ex: 50.65). Once entered into its corresponding text form, this value is stored in state.
- Savings
  - Type: numeric value
  - This value represents the estimated monthly savings for the user. It is given as a numeric amount in a dollar and cent format (ex: 50.65). Once entered into its corresponding text form, this value is stored in state.
- Dependent
  - Type: Boolean
  - This value describes whether or not the user is a financial dependent. The value is true if yes, and false if no. Once entered from its corresponding dropdown menu, the value is stored in state.
- NumberOfDependents
  - Type: integer
  - This value represents the number of dependents in the user&#39;s household. The minimum value is 0. Once entered from its corresponding text form, the value is stored in state
- NumberInHouse
  - Type: integer
  - This value refers to the number of individuals in the user&#39;s household. The minimum value is 1. Once entered into its corresponding text form, this value is stored in state.
- EmpoymentStatus
  - Type: boolean
  - This value represents whether or not the user currently works less than 40 hours a week (is not a full time employee). True means yes, the user works less than that (is part time), while false means they are full time employees. Once entered into its corresponding text form, this value is stored in state.
- userInfo
  - Type: object
  - This object contains key value pairs for the various input properties. The keys will always be of type string, while the values are of different data types depending on what property they contain.

### Functionalities

- handleText'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user input in text forms. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as a key value pair in the userInfo object (userInfo[name of form]) where it will be stored until pushed to the GetUserData Component.
- handleSelection'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user selected input from radio buttons or drop down menus. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as a key value pair in the userInfo object (userInfo[name of form]) where it will be stored until pushed to the GetUserData Component.
- sendToOther()
  - Parameters: none
  - Return: none
  - This function is activated via the onClick property of the &quot;save&quot; button at the bottom of the page. Once the button is clicked, the function will be called, preventing the default event and instead sending the userInfo object in state to the GetUserData component.

### Connections

- Inputs - none
- Outputs
  - GetUserData - sends the completed userInfo object to this component via the sendToOther() function

## GetUserData

### Description

This component will handle requests to push and pull data from firebase. Many of these functionalities will be executed with firebase&#39;s library of functions for pushing, setting, and gathering user related data from our firebase database. User data that will be pushed to the firebase will be user account information (username, email), budget specifics (employment status, monthly income, monthly savings, dependent status, number of dependents, household size, student status), expenses specifics (amount of money allocated in each category in a numerical dollar and cent amount), goals, and notification settings (method of preference and frequency of notifications both in and outside of the application). This information will be entered into forms on the signup, user basics, expenses, goals, and notifications setting pages via text forms, buttons, or dropdowns. This input will be handled via handleText() and handleInput() functions and will be saved in an object in state until being pushed up to firebase.

### Properties
- userInfo
  - Type: Object
  - An object with keys linking to the various user information questions asked on the &quot;users basics&quot; page. Will be rece. Values are stored as booleans, numerical dollar and cent amounts, and integers. This object is stored in state.
- userExpenses
  - Type: Object
  - An object with keys linking to the various expenses that the user indicated on the &quot;user expenses&quot; page. Each input box on the page is it&#39;s own key-value pair in the object, with the label of the form being the key and the user input being the value. Expense values are stored as numerical dollar and cent values, with their key being a string. This object is stored in state.
- userGoals
  - Type: Object
  - An object with keys linking to the various goals that the user enters on the &quot;goals&quot; page. Each input box on the page is it&#39;s own key-value pair in the object, with the label of the form being the key and the user input being the value. This object is stored in state.
- userNotificationSettings
  - Type: Object
  - An object storing information regarding notification preferences in key-value pairs. Each input box on the page is it&#39;s own key-value pair in the object, with the label of the form being the key and the user input being the value. The timeframe that users would like to receive notifications in will be stored as an integer representing the number of days that will pass before the user receives a notification. The method that users would like to receive notifications outside the application, as well as the keys will be stored as strings.
- While all of these properties are described as being used while entering in data, they will also be used to store data that is pulled from firebase. The properties will maintain the same key-value types and structures, but will be populated by pulls from the database rather than user input via forms.

### Functionalities

- handleText'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user input in text forms. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as inputValue[name of form] where it will be stored until pushed up to firebase.
- handleSelection'[name of form]'()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user selected input from radio buttons or drop down menus. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value as inputValue[name of form} where it will be stored until pushed up to firebase.
- submitData()
  - Parameters: none
  - Returns: none
  - Pushes user input being stored in state to firebase. The information will be stored inside of a main &quot;user object&quot; that exists for the specific user. Each category of data (basic info, expenses, notification preferences) will be its own subtree of this main object. Essentially, the user object is a series of nested objects containing all data related to a given user. The function will check that the properties exist in state. If a property does exist in state (meaning it has new or updated values to be stored), the function pushes the object to firebase under its designated file path. This path will look like users/[userID]/[categoryName]. After objects are pushed to firebase, the function will clear the values in state, essentially refreshing the input forms. This function will be triggered when the user clicks on the &quot;save&quot; buttons on the &quot;basic info&quot;, &quot;expenses&quot;, &quot;goals&quot;, and &quot;notification settings&quot; pages. Firebase will be communicated with via database references, and through the methods set(), push(), .child(), etc.
- getData()
  - Parameters: userID (in form of prop)
  - Returns: userData (Object)
  - This method fetches the user data for a particular user from firebase. The function accepts a userID string as a passed in prop. The function then makes a call to firebase to get the object associated with that userID, which will contain several nested objects containing user data. The function will then return that object to the DataHandler component, which will reformat the data into its appropriate structure.

### Connections

- Input
  - DataHandler - When executing getData(), the component will be passed a userID from the DataHandler component to work with.
- Outputs
  - DataHandler - Upon completing getData(), the component will return a user object to the DataHandler to be manipulated.

## GoalsComponent

Description

This component will be responsible for rendering the &quot;Goals&quot; page along with capturing user input related to user goals and sending it to the GetUserData component.  Here, the user will enter information regarding their goals related to savings, spending on necessities, and discretionary spending. This information will be entered via text input forms, and data will be pushed to the GetUserData component all at once upon clicking the &quot;save&quot; button. The user will also be able to enter their own custom goals via text input forms. That data will also be pushed to the GetUserData component once the &quot;save&quot; button is clicked.

### Properties

- Savings
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user aims to save per month. Once entered into its corresponding text form, this value is stored in state.
- NecessarySpending
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user aims to spend on necessities per month. Once entered into its corresponding text form, this value is stored in state.
- DiscretionarySpending
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user aims to spend on discretionary items per month. Once entered into its corresponding text form, this value is stored in state.
- userInfo
  - Type: object
  - This object contains key value pairs for the various input properties. The keys will always be of type string, while the values are of different data types depending on what property they contain.
- CustomGoalOne
  - Type: String
  - This value represents the first custom goal a user has entered (if any). Once entered into its corresponding text form, this value is stored in the state.
- CustomGoalTwo
  - Type: String
  - This value represents the second custom goal a user has entered (if any). Once entered into its corresponding text form, this value is stored in the state.
- CustomGoalThree
  - Type: String
  - This value represents the third custom goal a user has entered (if any). Once entered into its corresponding text form, this value is stored in the state.

### Functionalities

- handleText[name of form]()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user input in text forms. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as inputValue[name of form] where it will be stored until pushed up to firebase.
- sendToOther()
  - Parameters: none
  - Return: none
  - This function is activated via the onClick property of the &quot;save&quot; button at the bottom of the page. Once the button is clicked, the function will be called, preventing the default event and instead sending the userInfo object in state to the GetUserData component.

### Connections

- Input - none
- Output
  - GetUserData - sends the completed userInfo object to this component via the sendToOther() function

## ExpensesComponent

Description

        This component will be responsible for rendering the &quot;Expenses&quot; page along with capturing user input related to user spending and sending it to the GetUserData component.  Here, the user will enter information regarding how much they spend on necessary and discretionary items. This information will be entered via text input forms, and data will be pushed to the GetUserData component all at once upon clicking the &quot;save&quot; button. The user will also be able to add additional categories of discretionary spending.

### Properties

- Housing
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user spends on housing-related costs. Once entered into its corresponding text form, this value is stored in state.
- Utilities
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user spends on utilities-related costs. Once entered into its corresponding text form, this value is stored in state.
- Food
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user spends on food-related costs. Once entered into its corresponding text form, this value is stored in state.
- Transportation
  - Type: numeric value
  - This value represents the percentage of estimated monthly income the user spends on transportation-related costs. Once entered into its corresponding text form, this value is stored in state.
- DiscretionarySpending1
  - Type: object
  - This value represents a String of a category name of the user&#39;s discretionary spending and the corresponding numerical value of the amount they are spending. Once entered into its corresponding label and ext form, this value is stored in state.
- DiscretionarySpending2
  - Type: object
  - This value represents a String of a category name of the user&#39;s discretionary spending and the corresponding numerical value of the amount they are spending. Once entered into its corresponding label and ext form, this value is stored in state.
- DiscretionarySpending3
  - Type: object
  - This value represents a String of a category name of the user&#39;s discretionary spending and the corresponding numerical value of the amount they are spending. Once entered into its corresponding label and ext form, this value is stored in state.
- DiscretionarySpending4
  - Type: object
  - This value represents a String of a category name of the user&#39;s discretionary spending and the corresponding numerical value of the amount they are spending. Once entered into its corresponding label and ext form, this value is stored in state.

### Functionalities

- handleText[name of form]()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user input in text forms. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value in state as inputValue[name of form] where it will be stored until pushed up to firebase.
- handleSelection[name of form]()
  - Parameters: formBoxID (in form of prop)
  - Return: none
  - Keeps track of the user selected input from radio buttons or drop down menus. The function accepts the ID property of the form box currently being handled as a passed in prop. The function then saves the input value as inputValue[name of form} where it will be stored until pushed up to firebase.
- addAdditionalCategories()
  - Parameters: none
  - Return: none
  - Adds an additional &quot;Category name&quot; label and text input box once the user selects the &quot;Add Additional Categories&quot; button.
- sendToOther()
  - Parameters: none
  - Return: none
  - This function is activated via the onClick property of the &quot;save&quot; button at the bottom of the page. Once the button is clicked, the function will be called, preventing the default event and instead sending the userInfo object in state to the GetUserData component.

### Connections

- Input
  - Calls to retrieve userData from GetUserData in order to get user&#39;s estimated monthly income and savings
- Output
  - GetUserData - sends the completed userInfo object to this component via the sendToOther() function

## RouterComponent

Description

This component stores the page that is currently being rendered in the state. Depending on the user&#39;s input, this component shows and hides other pages. It will allow the users to navigate between the Dashboard, Expenses, Goals, and Settings pages. It designates the Dashboard page as the default tab.

### Properties

- dashboard
  - Type: address
  - This address represents the route/path linked to the Dashboard page
- Expenses
  - Type: address
  - This address represents the route/path linked to the Expenses page
- Goals
  - Type: address
  - This address represents the route/path linked to the Goals page
- Settings
  - Type: address
  - This address represents the route/path linked to the Notification Settings page

### Functionalities

- renderDefaultPage()
  - Parameters: none
  - Return: none
  - This renders the default page, the Dashboard, when the user first arrives at the site
- renderCurrentPage()
  - Parameters: none
  - Return: none
  - Using the route the user has most recently clicked on, which is received from the switch() method, this renders the component associated with that route
- switch()
  - Parameters: none
  - Return: none
  - This keeps track of which route the user has most recently selected and passes that component to the renderCurrentPage() method
- map()
  - Parameters: none
  - Return: none
  - This holds the paths to all of the components in the application. This holds the path/routes to the BasicUserInfo, Goals, Expenses, and Notifications components.

### Connections

- Inputs
  - User input via clicks on buttons
- Outputs
  - Renders either the default or current page
